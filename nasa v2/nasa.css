/* base */
:root{
  --bg-primary:#0b1020; --bg-secondary:#0e132a;
  --panel:rgba(25,25,40,.95); --panel-border:rgba(255,255,255,.1);
  --text:#e6eef8; --text-muted:#8aa0b4;
  --accent:#4da3ff; --accent-2:#8b5cf6; --accent-glow:rgba(77,163,255,.3);
  --success:#10b981; --error:#ef4444;
  --shadow:0 25px 50px rgba(0,0,0,.5); --shadow-glow:0 0 30px rgba(77,163,255,.2);
  --radius:20px; --transition:all .3s cubic-bezier(.4,0,.2,1);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  background:linear-gradient(120deg,var(--bg-primary),var(--bg-secondary));
  color:var(--text);
  font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',system-ui,sans-serif;
  line-height:1.6;min-height:100vh;overflow-x:hidden;
}
.app{max-width:1200px;margin:0 auto;padding:20px;position:relative}

/* header */
header.appbar{
  background:var(--panel);backdrop-filter:blur(20px);
  border:1px solid var(--panel-border);border-radius:var(--radius);
  box-shadow:var(--shadow);padding:24px 32px;margin-bottom:32px;
  display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px;
  position:relative;overflow:hidden;
}
.appbar::before{
  content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.05),transparent);
  animation:shimmer 3s infinite;
}
@keyframes shimmer{0%{left:-100%}100%{left:100%}}
.title{
  font-weight:800;font-size:clamp(1.5rem,4vw,2.5rem);
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  letter-spacing:-.02em;position:relative;
}
.title::after{
  content:'';position:absolute;bottom:-4px;left:0;width:100%;height:2px;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));border-radius:2px;opacity:.3;
}
.controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.btn{
  padding:12px 20px;border-radius:12px;cursor:pointer;border:1px solid var(--panel-border);
  background:rgba(255,255,255,.05);color:var(--text);font-weight:600;font-size:14px;
  transition:var(--transition);backdrop-filter:blur(10px);position:relative;overflow:hidden;
}
.btn::before{
  content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);
  transition:var(--transition);
}
.btn:hover::before{left:100%}
.btn:hover{border-color:var(--accent);box-shadow:0 0 20px var(--accent-glow);transform:translateY(-2px)}
.btn:active{transform:translateY(0)}
input[type="date"]{
  padding:12px 16px;border-radius:12px;border:1px solid var(--panel-border);
  background:rgba(255,255,255,.05);color:var(--text);font-size:14px;backdrop-filter:blur(10px);
  transition:var(--transition);
}
input[type="date"]:focus{outline:none;border-color:var(--accent);box-shadow:0 0 20px var(--accent-glow)}

/* viewer */
.viewer{
  background:var(--panel);backdrop-filter:blur(20px);border:1px solid var(--panel-border);
  border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;position:relative;transition:var(--transition);
}
.viewer:hover{box-shadow:var(--shadow),var(--shadow-glow);transform:translateY(-4px)}
.media-wrap{
  position:relative;background:#0a0f1e;min-height:400px;display:grid;place-items:center;overflow:hidden;
}
.media{
  width:100%;max-height:75vh;object-fit:contain;display:none;opacity:0;
  transition:opacity .5s ease,transform .5s ease;transform:scale(.95);
}
.media.show{display:block;opacity:1;transform:scale(1)}
iframe.media{aspect-ratio:16/9;border:0;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.5)}
.thumb-link{position:relative;display:none;width:100%;max-width:800px;border-radius:12px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.5);transition:var(--transition)}
.thumb-link:hover{transform:scale(1.02)}
.thumb-link img{width:100%;height:auto;display:block;object-fit:contain}
.thumb-link .play{position:absolute;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.3);backdrop-filter:blur(2px);transition:var(--transition)}
.thumb-link:hover .play{background:rgba(0,0,0,.5)}
.thumb-link .play>div{width:80px;height:80px;border-radius:50%;background:rgba(77,163,255,.9);display:grid;place-items:center;box-shadow:0 0 30px var(--accent-glow);transition:var(--transition)}
.thumb-link:hover .play>div{transform:scale(1.1);box-shadow:0 0 50px var(--accent-glow)}

/* meta */
.meta{padding:32px;background:linear-gradient(135deg,rgba(255,255,255,.02) 0%,rgba(255,255,255,.05) 100%)}
.meta h2{font-size:clamp(1.5rem,3vw,2.2rem);font-weight:700;margin-bottom:16px;line-height:1.2;letter-spacing:-.02em}
.chips{display:flex;gap:12px;flex-wrap:wrap;margin:16px 0 24px}
.chip{
  font-size:12px;font-weight:600;padding:8px 16px;border-radius:20px;
  background:rgba(77,163,255,.1);border:1px solid rgba(77,163,255,.3);color:var(--accent);
  backdrop-filter:blur(10px);transition:var(--transition);
}
.chip:hover{background:rgba(77,163,255,.2);box-shadow:0 0 15px rgba(77,163,255,.3)}
.meta p{font-size:16px;line-height:1.7;color:var(--text-muted);text-align:justify}

/* bottom nav */
.footerbar{display:flex;justify-content:center;align-items:center;gap:40px;padding:32px;border-top:1px solid var(--panel-border);background:rgba(255,255,255,.02);position:relative}
.circle-btn{
  width:70px;height:70px;border-radius:50%;border:2px solid var(--panel-border);
  background:rgba(77,163,255,.1);color:var(--accent);font-size:28px;font-weight:700;cursor:pointer;
  display:flex;align-items:center;justify-content:center;transition:var(--transition);backdrop-filter:blur(20px);position:relative;overflow:hidden;
}
.circle-btn::before{
  content:'';position:absolute;inset:-2px;border-radius:50%;padding:2px;background:linear-gradient(135deg,var(--accent),var(--accent-2));
  mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;opacity:0;transition:var(--transition);
}
.circle-btn:hover::before{opacity:1}
.circle-btn:hover{background:rgba(77,163,255,.2);box-shadow:0 0 30px var(--accent-glow);transform:translateY(-3px) scale(1.05)}
.circle-btn:active{transform:translateY(-1px) scale(1.02)}
.circle-btn:disabled{opacity:.5;cursor:not-allowed;transform:none!important;box-shadow:none!important}

/* loading + errors */
.loading{position:absolute;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.8);backdrop-filter:blur(10px);color:#fff;z-index:10}
.spinner{width:40px;height:40px;border:3px solid rgba(77,163,255,.3);border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:16px}
@keyframes spin{to{transform:rotate(360deg)}}
.loading-text{font-size:16px;font-weight:600;color:var(--accent);animation:pulse 2s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:.6}50%{opacity:1}}
.error{padding:32px;text-align:center;background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.3);border-radius:12px;margin:20px}
.error h3{color:var(--error);font-size:20px;margin-bottom:12px}
.error p{color:var(--text-muted);margin-bottom:20px}

/* trivia */
.trivia{
  padding:32px;border-top:1px solid var(--panel-border);
  background:linear-gradient(135deg,rgba(139,92,246,.05) 0%,rgba(77,163,255,.05) 100%),rgba(255,255,255,.02);
  position:relative;
}
.trivia::before{
  content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:100px;height:2px;
  background:linear-gradient(90deg,var(--accent-2),var(--accent));border-radius:2px;
}
.trivia h3{
  font-size:24px;font-weight:700;margin-bottom:24px;text-align:center;
  background:linear-gradient(135deg,var(--accent-2),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.trivia-question{font-size:18px;font-weight:600;margin-bottom:20px;text-align:center;color:var(--text);padding:20px;background:rgba(255,255,255,.05);border-radius:12px;border:1px solid var(--panel-border)}
.trivia .options{display:grid;gap:12px;margin-bottom:24px}
.trivia .btn{text-align:left;padding:16px 20px;background:rgba(255,255,255,.05);border:1px solid var(--panel-border);transition:var(--transition);font-size:15px}
.trivia .btn:hover:not(:disabled){background:rgba(255,255,255,.1);transform:translateX(8px)}
.trivia .btn.correct{border-color:var(--success)!important;background:rgba(16,185,129,.2)!important;color:var(--success)!important;box-shadow:0 0 20px rgba(16,185,129,.3)}
.trivia .btn.wrong{border-color:var(--error)!important;background:rgba(239,68,68,.2)!important;color:var(--error)!important;box-shadow:0 0 20px rgba(239,68,68,.3)}
.trivia .actions{display:flex;gap:16px;align-items:center;justify-content:center;flex-wrap:wrap}
#tres{text-align:center;font-weight:600;margin-top:16px;padding:16px;border-radius:12px;background:rgba(255,255,255,.05);border:1px solid var(--panel-border);font-size:16px;line-height:1.5}

/* mobile */
@media (max-width:768px){
  .app{padding:16px}
  header.appbar{flex-direction:column;align-items:stretch;padding:20px;gap:16px}
  .controls{justify-content:center}.controls>*{flex:1;max-width:200px}
  .media{max-height:60vh}.meta{padding:24px}
  .footerbar{gap:30px;padding:24px;position:sticky;bottom:0;background:var(--panel);backdrop-filter:blur(20px)}
  .circle-btn{width:60px;height:60px;font-size:24px}
  .trivia{padding:24px}
}
@media (max-width:480px){
  .title{font-size:1.8rem}
  .circle-btn{width:55px;height:55px;font-size:22px}
  .footerbar{gap:20px}
}